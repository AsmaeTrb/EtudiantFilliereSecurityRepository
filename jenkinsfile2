pipeline {
  agent any

  stages {
    stage('Checkout') {
      steps {
        deleteDir()
        checkout scm
      }
    }

stage('OWASP Dependency-Check') {
  steps {
    dir('SecurityService') {
      bat '''
        echo OWASP Dependency-Check (offline mode)
        if exist mvnw.cmd (
          call mvnw.cmd -B dependency-check:check -DautoUpdate=false || exit /b 0
        ) else (
          mvn -B dependency-check:check -DautoUpdate=false || exit /b 0
        )
      '''
    }
  }
  post {
    always {
      archiveArtifacts artifacts: 'SecurityService/target/dependency-check-report.*', allowEmptyArchive: true
    }
  }
}

  }
}
